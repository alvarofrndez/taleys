@use '@/assets/variables.scss' as variables;
@use '@/assets/mixins.scss' as mixins;

.loadingContainer {
    // size
    width: 100%;
    min-height: 50vh;

    // display
    @include mixins.flex(column, center, center, nowrap, variables.$spacing-2);
}

.mainContent {
    // size
    width: 100%;

    .contentContainer {
        // size
        width: 100%;

        // margin
        margin: 0 auto;

        // display
        @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-8);

        .summaryCard {
            // size
            width: 100%;

            // display
            @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-8);

            // decoration
            @include mixins.card;
            backdrop-filter: blur(12px);
            box-shadow: variables.$shadow-md;

            .summaryHeader {
                // size
                width: 100%;

                // display
                @include mixins.flex(row, space-between, center, nowrap, variables.$spacing-8);

                // margin
                padding: variables.$spacing-6 variables.$spacing-6 0;

                .titleContainer {
                    // display
                    @include mixins.flex(row, flex-start, center, nowrap, variables.$spacing-2);

                    h3 {
                        // margin
                        margin: 0;
                        
                        // decoration
                        font-size: variables.$font-size-lg;
                        font-weight: variables.$font-weight-semibold;
                        color: var(--color-foreground);
                    }

                    img {
                        opacity: 0.7;
                    }
                }

                .addButton{
                    // margin
                    padding: variables.$spacing-2;

                    // decoration
                    border-radius: variables.$border-radius-md;
                    border: 1px solid var(--color-primary);
                    background: var(--color-primary);
                    color: var(--color-primary-foreground);
                    font-size: variables.$font-size-sm;
                    font-weight: variables.$font-weight-medium;
                    cursor: pointer;
                    transition: all 0.2s ease;

                    &:hover {
                        background: var(--color-primary);
                        opacity: 0.9;
                    }
                }
            }

            .summaryContent {
                // size
                width: 100%;

                // display
                @include mixins.flex(row, space-between, center, nowrap, variables.$spacing-8);

                // margin
                padding: 0 variables.$spacing-4 variables.$spacing-6 variables.$spacing-6;

                .statsGrid {
                    // size
                    width: 100%;

                    // display
                    display: grid;
                    grid-template-columns: repeat(4, 1fr);
                    gap: variables.$spacing-6;
                    text-align: center;

                    @media (max-width: variables.$breakpoint-md) {
                        // display
                        grid-template-columns: repeat(2, 1fr);
                        gap: variables.$spacing-4;
                    }

                    @media (max-width: variables.$breakpoint-sm) {
                        // display
                        grid-template-columns: 1fr;
                        gap: variables.$spacing-4;
                    }

                    .statItem {
                        // display
                        @include mixins.flex(column, center, center, nowrap, variables.$spacing-1);

                        .statNumber {
                            // decoration
                            font-size: variables.$font-size-3xl;
                            font-weight: variables.$font-weight-bold;

                            &.totalStat {
                                color: var(--color-primary);
                            }

                            &.publishedStat {
                                color: var(--color-success);
                            }

                            &.draftStat {
                                color: var(--color-warning-foreground);
                            }

                            &.recentStat {
                                color: var(--color-info);
                            }
                        }

                        .statLabel {
                            // decoration
                            font-size: variables.$font-size-sm;
                            color: var(--color-muted-foreground);
                        }
                    }
                }
            }
        }

        .searchAndFilterSection {
            // size
            width: 100%;

            // display
            @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-4);

            // decoration
            @include mixins.card;
            backdrop-filter: blur(12px);
            padding: variables.$spacing-4;

            @media (min-width: variables.$breakpoint-md) {
                // display
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

            .searchContainer {
                // size
                flex: 1;
                position: relative;

                // display
                @include mixins.flex(row, flex-start, center, nowrap, variables.$spacing-2);

                // decoration
                background: var(--color-muted);
                border: 1px solid var(--color-border);
                border-radius: variables.$border-radius-md;
                padding: variables.$spacing-2 variables.$spacing-3;

                @media (min-width: variables.$breakpoint-md) {
                    // size
                    max-width: 400px;
                    margin-right: variables.$spacing-4;
                }

                .searchInput {
                    // size
                    flex: 1;
                    border: none;
                    background: transparent;
                    outline: none;

                    // decoration
                    font-size: variables.$font-size-sm;
                    color: var(--color-foreground);

                    &::placeholder {
                        color: var(--color-muted-foreground);
                    }
                }

                .clearSearch {
                    // decoration
                    background: none;
                    border: none;
                    cursor: pointer;
                    color: var(--color-muted-foreground);
                    transition: color 0.2s ease;

                    &:hover {
                        color: var(--color-foreground);
                    }
                }
            }

            .filterButtons {
                // display
                @include mixins.flex(row, flex-start, center, wrap, variables.$spacing-2);

                @media (max-width: variables.$breakpoint-md) {
                    // display
                    justify-content: center;
                    width: 100%;
                }

                .filterButton {
                    // margin
                    padding: variables.$spacing-2 variables.$spacing-4;
                    
                    // decoration
                    border-radius: variables.$border-radius-md;
                    border: 1px solid var(--color-border);
                    background: var(--color-muted);
                    color: var(--color-muted-foreground);
                    font-size: variables.$font-size-sm;
                    font-weight: variables.$font-weight-medium;
                    cursor: pointer;
                    transition: all 0.2s ease;

                    &:hover {
                        background: var(--color-accent);
                        border-color: var(--color-accent);
                    }

                    &.active {
                        background: var(--color-primary);
                        border-color: var(--color-primary);
                        color: var(--color-primary-foreground);

                        &:hover {
                            background: var(--color-primary);
                            opacity: 0.9;
                        }
                    }
                }
            }
        }

        .appearancesList {
            // size
            width: 100%;

            // display
            @include mixins.grid(2);

            .appearanceCard {
                // decoration
                @include mixins.card;
                backdrop-filter: blur(12px);
                box-shadow: variables.$shadow-md;
                cursor: pointer;
                transition: all 0.2s ease;

                &:hover {
                    transform: translateY(-2px);
                    box-shadow: variables.$shadow-lg;
                }

                .appearanceHeader {
                    // display
                    @include mixins.flex(row, space-between, center, nowrap, variables.$spacing-4);

                    // margin
                    padding: variables.$spacing-6;

                    @media (max-width: variables.$breakpoint-md) {
                        // display
                        flex-direction: column;
                        align-items: flex-start;
                        gap: variables.$spacing-4;
                    }

                    .bookInfo {
                        // display
                        @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-1);

                        h3 {
                            // margin
                            margin: 0;

                            // decoration
                            font-size: variables.$font-size-lg;
                            font-weight: variables.$font-weight-semibold;
                            color: var(--color-foreground);
                        }

                        .bookGenre {
                            // margin
                            margin: 0;

                            // decoration
                            font-size: variables.$font-size-sm;
                            color: var(--color-muted-foreground);
                        }
                    }

                    .badges {
                        // display
                        @include mixins.flex(row, flex-end, center, nowrap, variables.$spacing-2);

                        @media (max-width: variables.$breakpoint-md) {
                            // display
                            flex-wrap: wrap;
                            justify-content: flex-start;
                        }

                        .statusBadge {
                            // margin
                            padding: variables.$spacing-1 variables.$spacing-3;

                            // decoration
                            font-size: variables.$font-size-xs;
                            font-weight: variables.$font-weight-medium;
                            border-radius: variables.$border-radius-full;

                            &.statusPublished {
                                background: var(--color-success-light);
                                color: var(--color-success-dark);
                                border: 1px solid var(--color-success-border);
                            }

                            &.statusDraft {
                                background: var(--color-warning-light);
                                color: var(--color-warning-dark);
                                border: 1px solid var(--color-warning-border);
                            }

                            &.statusInProgress {
                                background: var(--color-info-light);
                                color: var(--color-info-dark);
                                border: 1px solid var(--color-info-border);
                            }

                            &.statusDefault {
                                background: var(--color-muted);
                                color: var(--color-muted-foreground);
                                border: 1px solid var(--color-border);
                            }
                        }
                    }
                }

                .appearanceContent {
                    // display
                    @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-8);
                    
                    // margin
                    padding: variables.$spacing-6;
                    padding-top: 0;

                    .infoGrid {
                        // display
                        display: grid;
                        grid-template-columns: 1fr;
                        gap: variables.$spacing-10;

                        @include mixins.md {
                            // display
                            grid-template-columns: repeat(2, 1fr);
                        }

                        .infoSection {
                            // display
                            @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-4);

                            h4 {
                                // margin
                                margin: 0;
                                
                                // decoration
                                font-size: variables.$font-size-sm;
                                font-weight: variables.$font-weight-semibold;
                                color: var(--color-foreground);

                                // display
                                @include mixins.flex(row, flex-start, center, nowrap, variables.$spacing-2);
                            }

                            .fieldList {
                                // display
                                @include mixins.flex(column, flex-start, flex-start, nowrap, variables.$spacing-2);

                                .field {
                                    // display
                                    @include mixins.flex(row, space-between, flex-start, nowrap, variables.$spacing-2);

                                    // decoration
                                    font-size: variables.$font-size-sm;

                                    .label {
                                        // decoration
                                        font-weight: variables.$font-weight-medium;
                                        color: var(--color-muted-foreground);
                                        flex-shrink: 0;
                                    }

                                    .value {
                                        // decoration
                                        color: var(--color-terciary-foreground);
                                        text-align: right;
                                        word-break: break-word;
                                    }
                                }
                            }
                        }
                    }

                    .notesSection {
                        // size
                        width: 100%;

                        // margin
                        padding-top: variables.$spacing-3;
                        
                        // decoration
                        border-top: 1px solid var(--color-border);

                        h4 {
                            // decoration
                            font-size: variables.$font-size-sm;
                            font-weight: variables.$font-weight-semibold;
                            margin: 0 0 variables.$spacing-3 0;
                            color: var(--color-foreground);
                        }

                        .notesContainer {
                            // margin
                            padding: variables.$spacing-4;
                            
                            // decoration
                            background: var(--color-muted);
                            border-radius: variables.$border-radius-md;

                            p {
                                // margin
                                margin: 0;
                                
                                // decoration
                                color: var(--color-muted-foreground);
                                line-height: 1.6;
                                font-size: variables.$font-size-sm;
                                font-style: italic;
                            }
                        }
                    }
                }
            }
        }

        .emptyState {
            // size
            width: 100%;

            // display
            @include mixins.flex(column, flex-start, center);

            // decoration
            text-align: center;

            h3 {
                // margin
                margin: variables.$spacing-4 0 variables.$spacing-2 0;
                
                // decoration
                font-size: variables.$font-size-lg;
                font-weight: variables.$font-weight-semibold;
                color: var(--color-foreground);
            }

            p {
                // margin
                margin: 0 0 variables.$spacing-4 0;
                
                // decoration
                font-size: variables.$font-size-sm;
                color: var(--color-muted-foreground);
            }

            .clearFiltersButton {
                // margin
                padding: variables.$spacing-2 variables.$spacing-4;

                // decoration
                border-radius: variables.$border-radius-md;
                border: 1px solid var(--color-border);
                background: transparent;
                color: var(--color-primary);
                font-size: variables.$font-size-sm;
                font-weight: variables.$font-weight-medium;
                cursor: pointer;
                transition: all 0.2s ease;

                &:hover {
                    background: var(--color-muted);
                }
            }

            img {
                // decoration
                opacity: 0.4;
            }
        }
    }
}

// Responsive adjustments
@media (max-width: variables.$breakpoint-md) {
    .mainContent {
        padding: variables.$spacing-4;

        .contentContainer {
            gap: variables.$spacing-4;

            .appearanceContent {
                .infoGrid {
                    grid-template-columns: 1fr;
                }
            }

            .searchAndFilterSection {
                .searchContainer {
                    margin-right: 0;
                    margin-bottom: variables.$spacing-3;
                }
            }
        }
    }
}

// Animation utilities
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.summaryCard,
.appearanceCard,
.searchAndFilterSection {
    animation: fadeIn 0.3s ease-out;
}